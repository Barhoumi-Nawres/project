header:
  version: 14

machine: raspberrypi0-2w-64
distro: distro-rpi
target: image-dev
repos:
  meta-raspberrypi:
    url: https://git.yoctoproject.org/meta-raspberrypi
    branch: scarthgap
    path: meta-raspberrypi

  openembedded-core:
    url: https://git.openembedded.org/openembedded-core
    branch: scarthgap
    path: openembedded-core
    layers:
      meta:


  meta-openembedded:
    url: https://git.openembedded.org/meta-openembedded
    branch: scarthgap
    path: meta-openembedded
    layers:
      meta-oe:
      meta-python:

  bitbake:
    url: https://git.openembedded.org/bitbake
    path: openembedded-core/bitbake
    branch: "2.8"
    layers:
      bitbake: disabled

  meta-yocto:
    url: https://git.yoctoproject.org/meta-yocto
    branch: scarthgap
    path: meta-yocto
    layers:
      meta-yocto-bsp:


  meta-rpi-bsp:
    path: meta-rpi-bsp
  meta-rpi-distro:
    path: meta-rpi-distro
  meta-rpi-prj:
    path: meta-rpi-prj


local_conf_header:
  diskom: |
     BB_DISKMON_DIRS ??= "\
      STOPTASKS,${TMPDIR},1G,100K \
      STOPTASKS,${DL_DIR},1G,100K \
      STOPTASKS,${SSTATE_DIR},1G,100K \
      STOPTASKS,/tmp,100M,100K \
      HALT,${TMPDIR},100M,1K \
      HALT,${DL_DIR},100M,1K \
      HALT,${SSTATE_DIR},100M,1K \
      HALT,/tmp,10M,1K"

  conf-version: |
    CONF_VERSION = "2"

  sstate-cache-anddownloads: |
    DL_DIR = "/work/downloads"
    SSTATE_DIR = "/work/sstate-cache"
  build-history: |
    INHERIT += "buildhistory"
    BUILDHISTORY_COMMIT = "0"
    BUILDHISTORY_FEATURES = "image"
    BUILDHISTORY_DIR ?= "${TOPDIR}/buildhistory"
  for-raspberrypi: |
    LICENSE_FLAGS_ACCEPTED = "synaptics-killswitch"

  type-image: |
    IMAGE_FSTYPES ="wic"
  wks-file: |
    WKS_FILE="rpi.wks"

  SBOM: |
    INHERIT += "create-spdx"
    SPDX_PRETTY = "1"

bblayers_conf_header:
  custom-bblayers-conf: |
    POKY_BBLAYERS_CONF_VERSION = "2"
